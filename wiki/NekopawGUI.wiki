#summary Описание графического интерфейса пользователя (работа с клиентом в целом)

= Первый экран =

Немного пустоват да.

По дефолту (и пока не отключаемо) происходит автоматическая проверка на обновления. Если обновления будут обнаружены, появится окно, предлагающее скачать их.

Кнопки:<br />
Новый список - создание нового проекта;<br />
Загрузить список - не работает;<br />
Настройки - настройки работы программы. Для открытых вкладок на данный момент настройки не применяются. Только для новых.<br />
Выход - выход.

= Настройки =

Потоки - кол-во потоков, получающих СПИСКИ;<br />
Ограничение на ресурс - включает ограничение на кол-во потоков, одновременно качающих с одного ресурса;<br />
Потоков на ресурс - кол-во этих самых потоков;<br />
Потоки изображений - кол-во потоков, качающих картинки;<br />
Попытки - пока не работает;

Прокси - настройки подключения к прокси;

Настройки сохраняются в файл профиля (по умолч. default.ini).

= Нереализованные в GUI настройки =

В settings.ini:<br />
profile= - имя профиля настроек (по умолчанию dafault.ini);<br />
updserver= - ссылка на каталог, где находятся обновления (по умолчанию http://nekopaw.googlecode.com/svn/trunk/release/graber2/ , и менять нет смысла).<br />
Так же в разделе update хранятся текущие версии файлов.

В {профиль}.ini:<br />
Раздел `[`global`]`<br />
language=  - используемый язык интерфейса. См. папку languages, по умолчанию English (берется имя фала без расширения .ini).<br />
Раздел `[`ignorelist`]`<br />
{сравниваемое поле} = {проверямые поля через запятую}<br />
Позволяет сравнивать поля изображений, и при совпадении данных, изображение игнорируется. Происходит автоматически в процессе получения списка.<br />
Пример:<br />
url=url,source<br />
md5=md5<br />
Примечание: игнорирование защищает вас только от дублирования элементов в списке, но не от совпадения с сохраненными файлами. Порядок получения ссылок не упорядочен (из-за чего источник может постоянно меняться), поэтому либо при сохранении используйте имена файлов, которые наверняка будут совпадать с имеющимися файлами (напр. хэш-сумму, в этом случае файл будет пропущен), либо используйте один и тот же список каждый раз, когда ищете по одному и тому же ключевому слову (что весьма сложно в связи с тем, что сохранение списка пока не реализовано).<br />
Раздел `[`formats`]`<br />
Picture= - формат имени сохраняемого изображения, по умол. $rootdir$\pics\$rname$\$fname$.$ext$;<br />
list= - не реализовано.

= Форматирование имени файла =

$rname$ - имя ресурса (напр. safebooru.org);<br />
$fname$ - полученное имя файла при получении списка (напр. b6b3a54dc0c3984e75cc1134dbc844bd5b45d145.jpg);<br />
$short$ - сокращенное имя ресурса (напр. sfbr, glbr, imto);<br />
$ext$ - расширение изображения (напр. jpeg, gif).<br />
$rootdir$ - каталог, в котором находится программа, без завершающего знака "\";<br />
%{Аттрибут изображения}% - аттрибут, полученный при получении списка, (напр. id, source, width, rating).

Если имя переменной или аттрибута не существует, то оно останется в имени файла.<br />
Пример: <br />
формат: c:\$bname$\$short$ %author% %id%<br />
результат:<br />
c:\$bname$\sfbr %author% 123456789<br />
c:\$bname$\imto Gidrant 987654321

Чтобы избежать появления нежелательных тэгов можно их "изолировать" треугольными скобками.<br />
Пример:<br />
формат: c:\<$bname$\>$short$< %author%> %id%<br />
результат:<br />
c:\sfbr 123456789<br />
c:\imto Gidrant 987654321

Изоляция так же действует на все символы, находящиеся внутри, т.е. можно сделать конструкцию типа: %id%< page%page%>.$ext$.
Изолировать можно и несколько имен, в этом случае текст остается если удается подставить хотя бы 1 имя. То, что подставить не удалось, удаляются.

= Страница составления списка =

Появляется при нажатии "Новый список".<br />
Справа находится список борд, которые можно добавить. Слева - находящиеся в списке.<br />
Чтобы добавить элемент в список, нужно нажать кнопку со стрелкой в списке борд. Так же можно убрать элементы из текущего списка.<br />
Чтобы продолжить настройку надо нажать кнопку "След. шаг". Для возвращения на предыдущий экран "Пред. шаг".<br />
Появится панель настроек борд. Пункт "Основное" в списке борд является глобальным и распространяется на все борды в списке, у которых не отключен чекбокс "Наследовать настройки".<br />
Для завершения списка нужно нажать "Завершить".

= Закачка =

Получение списка начинается сразу же после завершения списка.<br />
Появляется главное меню и панель деталей слева.<br />
Получение списка можно прервать, для этого надо нажать "Остановить загрузку списка" на главном меню.<br />
Когда получение списка будет завершено, можно начать закачку изображений. Для этого надо нажать "Начать закачку изображений". Для прерывания "Остановить закачку изображений".<br />
Качаться будут только отмеченные галочкой изображения.<br />
Пункт "Столбцы" позволяет добавлять и убирать поля с аттрибутами изображений".<br />
"Фильтр" включает настройку фильтра. В данный момент не влияет на закачку (т.е. качаться все равно будут все отмеченные галочкой).

Для добавления закладки (и начала нового списка) нужно нажать "Новый список" на главном меню. Для закрытия списка есть крестик в правом углу на панели вкладок.

Внизу под таблицей указывается вспомогательная информация:<br />
- ON AIR значит, что идет процесс скачки;<br />
- TTL - всего в списке;<br />
- TBL - время, затраченное на добавление элементов в таблицу;<br />
- DBL - время, затраченное на добавление элементов в массив (включая поиск дублей).